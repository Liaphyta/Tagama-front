{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\src\\\\app\\\\module\\\\users\\\\users.container.js\";\nimport React from 'react';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Icon from '@material-ui/core/Icon';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { connect } from 'react-redux';\nimport { action } from '../../../index';\nimport { Link } from \"react-router-dom\";\nimport { Button, Paper, Table, TableBody, TableCell, TableFooter, TableHead, TablePagination, TableRow, TextField } from \"@material-ui/core\";\nimport { fetchAllUsers } from './users.actions';\nimport Redirect from 'react-router/Redirect';\nimport { handleLogout, hasRole, refreshToken } from '../../shared/app.properties';\nimport Security from '@material-ui/icons/Security';\n\nvar Users =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Users, _React$Component);\n\n  function Users() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Users)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      filterValue: undefined,\n      allusersdata: undefined\n    };\n    _this.unauthorized = false;\n\n    _this.handleChangePage = function (event, page) {\n      _this.props.fetchAllUsers(page, 8, _this.state.filterValue);\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.props.fetchAllUsers(_this.props.allusersdata.page, event.target.value, _this.state.filterValue);\n    };\n\n    _this.handleFilterChange = function (event) {\n      _this.setState({\n        filterValue: event.target.value\n      });\n\n      _this.props.fetchAllUsers(0, 8, event.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.unauthorized = !hasRole('ROLE_ADMINISTRATION');\n      var refreshTime = new Date();\n      refreshTime.setSeconds(refreshTime.getSeconds() + 1800);\n\n      if (!localStorage.getItem('idm') || !localStorage.getItem('me')) {\n        handleLogout();\n      } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < new Date()) {\n        handleLogout();\n      } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < refreshTime) {\n        refreshToken();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchAllUsers(0, 8, \"\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, localStorage.getItem('idm') && localStorage.getItem('me') && this.unauthorized && React.createElement(Redirect, {\n        to: \"/app/error/unauthorized\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        style: {\n          margin: 30 + \"px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/app/users/create',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"extendedFab\",\n        color: \"primary\",\n        \"aria-label\": \"Add\",\n        className: \"top-circle-create-btn \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Add new \", React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })))), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-name\",\n        label: \"Filter\",\n        value: this.filterValue,\n        margin: \"normal\",\n        onChange: this.handleFilterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), this.props.allusersdata && this.props.allusersdata.content && React.createElement(TablePagination, {\n        rowsPerPageOptions: 8,\n        colSpan: 5,\n        count: this.props.allusersdata.totalElements,\n        rowsPerPage: this.props.allusersdata.size,\n        page: this.props.allusersdata.number,\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Username\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"E-mail\"), React.createElement(TableCell, {\n        style: {\n          width: 300 + \"px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Actions\")))), this.props.allusersdata && this.props.allusersdata.content && React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.props.allusersdata.content && this.props.allusersdata.content.map(function (user) {\n        return React.createElement(TableRow, {\n          key: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, user.username), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, user.name + \" \" + user.surname), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, user.email), React.createElement(TableCell, {\n          width: 400,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: '/app/users/delete/' + user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          \"aria-label\": \"Delete\",\n          className: \"btns pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(DeleteIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }))), React.createElement(Link, {\n          to: '/app/users/reset_password/' + user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          \"aria-label\": \"Edit\",\n          className: \"btns  pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(Security, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }))), React.createElement(Link, {\n          to: '/app/users/update/' + user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          \"aria-label\": \"Edit\",\n          className: \"btns danger pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"24\",\n          height: \"24\",\n          viewBox: \"0 0 24 24\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"path\", {\n          style: {\n            fill: \"white\"\n          },\n          d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }))))), React.createElement(Link, {\n          to: '/app/users/details/' + user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"contained\",\n          color: \"default\",\n          \"aria-label\": \"Details\",\n          className: \"btns success pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"24\",\n          height: \"24\",\n          viewBox: \"0 0 24 24\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"path\", {\n          style: {\n            fill: \"white\"\n          },\n          d: \"M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }))))));\n      })), React.createElement(TableFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Users;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    allusersdata: state.usersReducer.allusersdata\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchAllUsers: fetchAllUsers\n})(Users);","map":{"version":3,"sources":["C:/Users/user/Desktop/Repositories/starter-app/src/app/module/users/users.container.js"],"names":["React","AddIcon","Icon","DeleteIcon","connect","action","Link","Button","Paper","Table","TableBody","TableCell","TableFooter","TableHead","TablePagination","TableRow","TextField","fetchAllUsers","Redirect","handleLogout","hasRole","refreshToken","Security","Users","state","filterValue","undefined","allusersdata","unauthorized","handleChangePage","event","page","props","handleChangeRowsPerPage","target","value","handleFilterChange","setState","refreshTime","Date","setSeconds","getSeconds","localStorage","getItem","JSON","parse","expires_at","margin","content","totalElements","size","number","width","map","user","id","username","name","surname","email","fill","Component","mapStateToProps","usersReducer"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux'\r\nimport { action } from '../../../index';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Button,\r\n    Paper,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableFooter,\r\n    TableHead,\r\n    TablePagination,\r\n    TableRow,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\nimport { fetchAllUsers } from './users.actions';\r\nimport Redirect from 'react-router/Redirect';\r\nimport { handleLogout, hasRole, refreshToken } from '../../shared/app.properties';\r\nimport Security from '@material-ui/icons/Security';\r\n\r\n\r\nclass Users extends React.Component {\r\n\r\n    state = {\r\n        filterValue: undefined,\r\n        allusersdata: undefined,\r\n    }\r\n\r\n    unauthorized = false;\r\n\r\n    componentWillMount() {\r\n        this.unauthorized = !hasRole('ROLE_ADMINISTRATION');\r\n\r\n        let refreshTime = new Date();\r\n        refreshTime.setSeconds(refreshTime.getSeconds() + 1800);\r\n\r\n        if (!localStorage.getItem('idm') || !localStorage.getItem('me')) {\r\n            handleLogout()\r\n        } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < new Date()) {\r\n            handleLogout()\r\n        } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < refreshTime) {\r\n            refreshToken()\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.fetchAllUsers(0, 8, \"\");\r\n    }\r\n\r\n    handleChangePage = (event, page) => {\r\n        this.props.fetchAllUsers(page, 8, this.state.filterValue)\r\n    };\r\n\r\n    handleChangeRowsPerPage = (event) => {\r\n        this.props.fetchAllUsers(this.props.allusersdata.page, event.target.value, this.state.filterValue);\r\n    }\r\n\r\n    handleFilterChange = event => {\r\n        this.setState({\r\n            filterValue: event.target.value\r\n        })\r\n        this.props.fetchAllUsers(0, 8, event.target.value);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"users\">\r\n                {localStorage.getItem('idm') && localStorage.getItem('me') && this.unauthorized &&\r\n                    <Redirect to=\"/app/error/unauthorized\" />\r\n                }\r\n                <Paper style={{ margin: 30 + \"px\" }}>\r\n\r\n                    <Table className='table'>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>\r\n                                    <Link to={'/app/users/create'}>\r\n                                        <Button variant=\"extendedFab\" color=\"primary\" aria-label=\"Add\" className=\"top-circle-create-btn \">\r\n                                            Add new <AddIcon />\r\n                                        </Button>\r\n                                    </Link>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <TextField\r\n                                        id=\"standard-name\"\r\n                                        label=\"Filter\"\r\n                                        value={this.filterValue}\r\n                                        margin=\"normal\"\r\n                                        onChange={this.handleFilterChange}\r\n                                    />\r\n                                </TableCell>\r\n                                {this.props.allusersdata && this.props.allusersdata.content &&\r\n                                    <TablePagination\r\n                                        rowsPerPageOptions={8}\r\n                                        colSpan={5}\r\n                                        count={this.props.allusersdata.totalElements}\r\n                                        rowsPerPage={this.props.allusersdata.size}\r\n                                        page={this.props.allusersdata.number}\r\n                                        onChangePage={this.handleChangePage}\r\n                                        onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                                    />\r\n                                }\r\n                            </TableRow>\r\n                            <TableRow >\r\n                                <TableCell>Username</TableCell>\r\n                                <TableCell>Name</TableCell>\r\n                                <TableCell>E-mail</TableCell>\r\n                                <TableCell style={{ width: 300 + \"px\" }}><p className=\"text-center\">Actions</p></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        {this.props.allusersdata && this.props.allusersdata.content &&\r\n                            <TableBody>\r\n                                {this.props.allusersdata.content && this.props.allusersdata.content.map(user =>\r\n                                    <TableRow key={user.id}>\r\n                                        <TableCell>{user.username}</TableCell>\r\n                                        <TableCell>{user.name + \" \" + user.surname}</TableCell>\r\n                                        <TableCell>{user.email}</TableCell>\r\n                                        <TableCell width={400}>\r\n\r\n                                            <Link to={'/app/users/delete/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"secondary\" aria-label=\"Delete\" className='btns pull-right' >\r\n                                                    <DeleteIcon />\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/reset_password/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"primary\" aria-label=\"Edit\" className='btns  pull-right' >\r\n                                                    <Security />\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/update/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"primary\" aria-label=\"Edit\" className='btns danger pull-right' >\r\n                                                    <Icon><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path style={{ fill: \"white\" }} d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" /></svg></Icon>\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/details/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"default\" aria-label=\"Details\" className='btns success pull-right' >\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path style={{ fill: \"white\" }} d=\"M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z\" /></svg>\r\n                                                </Button>\r\n                                            </Link>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                )}\r\n                            </TableBody>\r\n                        }\r\n                        <TableFooter>\r\n                            <TableRow>\r\n                            </TableRow>\r\n                        </TableFooter>\r\n                    </Table>\r\n\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        allusersdata: state.usersReducer.allusersdata\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, ({\r\n    fetchAllUsers\r\n}))(Users);\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Repositories\\\\starter-app\\\\src\\\\app\\\\module\\\\reports\\\\reports.container.js\";\nimport React from 'react';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from 'material-ui-pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { Button, Fab, GridList, Grid } from '@material-ui/core';\nimport { isThisSecond } from 'date-fns/esm';\nimport Box from '@material-ui/core/Box';\nimport { Link } from 'react-router-dom';\nimport { getAllScans } from './reports.repo';\n\nvar ReportsContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReportsContainer, _React$Component);\n\n  function ReportsContainer(props) {\n    var _this;\n\n    _classCallCheck(this, ReportsContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReportsContainer).call(this, props));\n\n    _this.getAllScans = function () {\n      getAllScans().then(function (response) {\n        _this.setState({\n          show: true,\n          showTotal: false\n        });\n\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleChangeDateField = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event));\n      };\n    };\n\n    _this.changeVisibility = function (state) {\n      _this.setState({\n        showMyComponent: true\n      });\n    };\n\n    _this.state = {\n      rowsPerPages: 5,\n      data: {},\n      formdata: {},\n      dateFrom: new Date(),\n      dateTo: new Date(),\n      showMyComponent: undefined,\n      clickedDate: new Date(),\n      show: false,\n      showTotal: true\n    };\n    return _this;\n  }\n\n  _createClass(ReportsContainer, [{\n    key: \"changeShowTotal\",\n    value: function changeShowTotal() {\n      this.setState({\n        showTotal: true,\n        show: false\n      });\n    }\n  }, {\n    key: \"formatDate\",\n    value: function formatDate(n) {\n      return n < 10 ? \"0\" + n : n;\n    }\n  }, {\n    key: \"formatDatesButtons\",\n    value: function formatDatesButtons(dateFrom, dateTo) {\n      var dateMoving;\n      dateMoving = new Date(dateFrom);\n      var fabs = [];\n\n      while (dateMoving <= dateTo) {\n        fabs.push(React.createElement(Link, {\n          to: '/app/reports/daily/' + dateMoving.toISOString(),\n          style: {\n            textDecoration: 'none',\n            color: 'white'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(Fab, {\n          color: \"secondary\",\n          \"aria-label\": \"add\",\n          style: {\n            marginLeft: 5 + \"px\",\n            marginTop: 5 + \"px\"\n          },\n          onClick: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, this.formatDate(dateMoving.getDate()) + \".\" + this.formatDate(dateMoving.getMonth() + 1))));\n        dateMoving.setUTCDate(dateMoving.getUTCDate() + 1);\n      }\n\n      return fabs;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        style: {\n          marginTop: 50 + \"px\",\n          marginLeft: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"gray\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Generate report for all registry books\")), React.createElement(\"div\", {\n        style: {\n          marginBottom: 20 + \"px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        id: \"standard-uncontrolled\",\n        value: this.state.dateFrom ? this.state.dateFrom : '',\n        onChange: this.handleChangeDateField('dateFrom'),\n        label: \"Date From\",\n        keyboard: true,\n        format: \"dd-MM-yyyy\",\n        mask: function mask(value) {\n          return value ? [/\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/] : [];\n        },\n        margin: \"normal\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(DatePicker, {\n        id: \"standard-uncontrolled\",\n        value: this.state.dateTo ? this.state.dateTo : '',\n        onChange: this.handleChangeDateField('dateTo'),\n        label: \"Date To\",\n        keyboard: true,\n        style: {\n          marginLeft: 20 + \"px\"\n        },\n        format: \"dd-MM-yyyy\",\n        mask: function mask(value) {\n          return value ? [/\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/] : [];\n        },\n        margin: \"normal\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        style: {\n          marginTop: 10 + \"px\",\n          marginLeft: 30 + \"px\",\n          height: 55 + \"px\",\n          width: 100 + \"px\"\n        },\n        onClick: this.changeVisibility,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Search\"), !this.state.show && this.state.showTotal && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        style: {\n          marginTop: 10 + \"px\",\n          marginLeft: 250 + \"px\",\n          height: 55 + \"px\",\n          width: 100 + \"px\"\n        },\n        onClick: this.getAllScans,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Total scans\"), this.state.show && React.createElement(Link, {\n        to: '/reports/ALL_BOOKS_TOTAL_SCANS-REPORT.xls',\n        target: \"_blank\",\n        download: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        style: {\n          marginTop: 10 + \"px\",\n          marginLeft: 250 + \"px\",\n          height: 55 + \"px\",\n          width: 100 + \"px\"\n        },\n        onClick: this.changeShowTotal.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Download\"), \" \"), React.createElement(Link, {\n        to: '/app/reports/generate/monthly',\n        style: {\n          textDecoration: 'none',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        style: {\n          marginTop: 10 + \"px\",\n          marginLeft: 15 + \"px\",\n          height: 55 + \"px\",\n          width: 100 + \"px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Monthly Report\"))), React.createElement(\"div\", {\n        style: {\n          width: 55 + \"%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: this.state.showMyComponent ? {} : {\n          display: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, this.formatDatesButtons(this.state.dateFrom, this.state.dateTo))));\n    }\n  }]);\n\n  return ReportsContainer;\n}(React.Component);\n\nexport { ReportsContainer as default };","map":{"version":3,"sources":["C:/Users/user/Desktop/Repositories/starter-app/src/app/module/reports/reports.container.js"],"names":["React","DatePicker","MuiPickersUtilsProvider","TimePicker","DateFnsUtils","Button","Fab","GridList","Grid","isThisSecond","Box","Link","getAllScans","ReportsContainer","props","then","response","setState","show","showTotal","console","log","catch","error","handleChangeDateField","name","event","changeVisibility","state","showMyComponent","rowsPerPages","data","formdata","dateFrom","Date","dateTo","undefined","clickedDate","n","dateMoving","fabs","push","toISOString","textDecoration","color","marginLeft","marginTop","formatDate","getDate","getMonth","setUTCDate","getUTCDate","marginBottom","value","height","width","changeShowTotal","bind","display","formatDatesButtons","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,uBAArB,EAA8CC,UAA9C,QAAgE,qBAAhE;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAAQC,MAAR,EAAeC,GAAf,EAAmBC,QAAnB,EAA4BC,IAA5B,QAAuC,mBAAvC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,WAAT,QAA4B,gBAA5B;;IAGqBC,gB;;;;;AACjB,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,0FAAMA,KAAN;;AADe,UAelBF,WAfkB,GAeJ,YAAM;AAEfA,MAAAA,WAAW,GAAGG,IAAd,CAAmB,UAAAC,QAAQ,EAAI;AAC7B,cAAKC,QAAL,CAAc;AACZC,UAAAA,IAAI,EAAC,IADO;AAEZC,UAAAA,SAAS,EAAC;AAFE,SAAd;;AAKAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACD,OAPD,EAOGM,KAPH,CAOS,UAAAC,KAAK,EAAI;AAChBH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,OATD;AAUJ,KA3BiB;;AAAA,UA4BjBC,qBA5BiB,GA4BO,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AACvC,cAAKT,QAAL,qBACKQ,IADL,EACYC,KADZ;AAGH,OAJ6B;AAAA,KA5BX;;AAAA,UAiCnBC,gBAjCmB,GAiCA,UAAAC,KAAK,EAAI;AACxB,YAAKX,QAAL,CAAc;AACVY,QAAAA,eAAe,EAAE;AADP,OAAd;AAGH,KArCkB;;AAEf,UAAKD,KAAL,GAAY;AACVE,MAAAA,YAAY,EAAE,CADJ;AAEVC,MAAAA,IAAI,EAAE,EAFI;AAGVC,MAAAA,QAAQ,EAAE,EAHA;AAIVC,MAAAA,QAAQ,EAAE,IAAIC,IAAJ,EAJA;AAKVC,MAAAA,MAAM,EAAE,IAAID,IAAJ,EALE;AAMVL,MAAAA,eAAe,EAAEO,SANP;AAOVC,MAAAA,WAAW,EAAE,IAAIH,IAAJ,EAPH;AAQVhB,MAAAA,IAAI,EAAE,KARI;AASVC,MAAAA,SAAS,EAAC;AATA,KAAZ;AAFe;AAchB;;;;sCAyBH;AACI,WAAKF,QAAL,CAAc;AACVE,QAAAA,SAAS,EAAC,IADA;AAEVD,QAAAA,IAAI,EAAC;AAFK,OAAd;AAIH;;;+BACWoB,C,EAAG;AACX,aAAQA,CAAC,GAAG,EAAL,GAAY,MAAMA,CAAlB,GAAuBA,CAA9B;AACH;;;uCACkBL,Q,EAASE,M,EAAO;AAC/B,UAAII,UAAJ;AACAA,MAAAA,UAAU,GAAC,IAAIL,IAAJ,CAASD,QAAT,CAAX;AACA,UAAIO,IAAI,GAAG,EAAX;;AACA,aAAMD,UAAU,IAAEJ,MAAlB,EACE;AACIK,QAAAA,IAAI,CAACC,IAAL,CACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAE,wBAAsBF,UAAU,CAACG,WAAX,EAAhC;AAA0D,UAAA,KAAK,EAAE;AAACC,YAAAA,cAAc,EAAE,MAAjB;AAAyBC,YAAAA,KAAK,EAAE;AAAhC,WAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,oBAAC,GAAD;AAAK,UAAA,KAAK,EAAC,WAAX;AAAuB,wBAAW,KAAlC;AAAwC,UAAA,KAAK,EAAE;AAACC,YAAAA,UAAU,EAAE,IAAG,IAAhB;AAAqBC,YAAAA,SAAS,EAAE,IAAE;AAAlC,WAA/C;AACA,UAAA,OAAO,EAAC,EADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGK,KAAKC,UAAL,CAAgBR,UAAU,CAACS,OAAX,EAAhB,IAAuC,GAAvC,GAA6C,KAAKD,UAAL,CAAgBR,UAAU,CAACU,QAAX,KAAsB,CAAtC,CAHlD,CADA,CADF;AASAV,QAAAA,UAAU,CAACW,UAAX,CAAsBX,UAAU,CAACY,UAAX,KAA0B,CAAhD;AACH;;AACD,aAAOX,IAAP;AACL;;;6BACO;AACJ,aACI;AAAM,QAAA,KAAK,EAAE;AAACM,UAAAA,SAAS,EAAC,KAAG,IAAd;AAAmBD,UAAAA,UAAU,EAAE;AAA/B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAACD,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAA7B,CADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAACQ,UAAAA,YAAY,EAAE,KAAK;AAApB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH,oBAAC,uBAAD;AAAyB,QAAA,KAAK,EAAEhD,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACsB,oBAAC,UAAD;AACI,QAAA,EAAE,EAAC,uBADP;AAEI,QAAA,KAAK,EAAE,KAAKwB,KAAL,CAAWK,QAAX,GAAsB,KAAKL,KAAL,CAAWK,QAAjC,GAA4C,EAFvD;AAGI,QAAA,QAAQ,EAAE,KAAKT,qBAAL,CAA2B,UAA3B,CAHd;AAII,QAAA,KAAK,EAAC,WAJV;AAKI,QAAA,QAAQ,MALZ;AAMI,QAAA,MAAM,EAAC,YANX;AAOI,QAAA,IAAI,EAAE,cAAA6B,KAAK;AAAA,iBACPA,KAAK,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,GAA9B,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C,IAA/C,EAAqD,IAArD,CAAH,GAAgE,EAD9D;AAAA,SAPf;AAUI,QAAA,MAAM,EAAC,QAVX;AAWI,QAAA,QAAQ,MAXZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADtB,EAcsB,oBAAC,UAAD;AACI,QAAA,EAAE,EAAC,uBADP;AAEI,QAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWO,MAAX,GAAoB,KAAKP,KAAL,CAAWO,MAA/B,GAAwC,EAFnD;AAGI,QAAA,QAAQ,EAAE,KAAKX,qBAAL,CAA2B,QAA3B,CAHd;AAII,QAAA,KAAK,EAAC,SAJV;AAKI,QAAA,QAAQ,MALZ;AAMI,QAAA,KAAK,EAAE;AAACqB,UAAAA,UAAU,EAAC,KAAG;AAAf,SANX;AAOI,QAAA,MAAM,EAAC,YAPX;AAQI,QAAA,IAAI,EAAE,cAAAQ,KAAK;AAAA,iBACPA,KAAK,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,GAA9B,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C,IAA/C,EAAqD,IAArD,CAAH,GAAgE,EAD9D;AAAA,SARf;AAWI,QAAA,MAAM,EAAC,QAXX;AAYI,QAAA,QAAQ,MAZZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdtB,CADG,EA+Be,oBAAC,MAAD;AAC3B,QAAA,OAAO,EAAC,WADmB;AAE3B,QAAA,KAAK,EAAC,WAFqB;AAG3B,QAAA,KAAK,EAAE;AAACP,UAAAA,SAAS,EAAE,KAAG,IAAf;AAAoBD,UAAAA,UAAU,EAAE,KAAK,IAArC;AAA0CS,UAAAA,MAAM,EAAE,KAAI,IAAtD;AAA2DC,UAAAA,KAAK,EAAE,MAAM;AAAxE,SAHoB;AAI3B,QAAA,OAAO,EAAE,KAAK5B,gBAJa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/Bf,EAuCP,CAAC,KAAKC,KAAL,CAAWV,IAAZ,IAAoB,KAAKU,KAAL,CAAWT,SAA/B,IAA2C,oBAAC,MAAD;AAChD,QAAA,OAAO,EAAC,WADwC;AAEhD,QAAA,KAAK,EAAC,WAF0C;AAGhD,QAAA,KAAK,EAAE;AAAC2B,UAAAA,SAAS,EAAE,KAAG,IAAf;AAAoBD,UAAAA,UAAU,EAAE,MAAM,IAAtC;AAA2CS,UAAAA,MAAM,EAAE,KAAI,IAAvD;AAA4DC,UAAAA,KAAK,EAAE,MAAM;AAAzE,SAHyC;AAIhD,QAAA,OAAO,EAAE,KAAK3C,WAJkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAvCpC,EA+CP,KAAKgB,KAAL,CAAWV,IAAX,IAAmB,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,2CAAV;AAAuD,QAAA,MAAM,EAAC,QAA9D;AAAuE,QAAA,QAAQ,MAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgF,oBAAC,MAAD;AACxG,QAAA,OAAO,EAAC,WADgG;AAExG,QAAA,KAAK,EAAC,WAFkG;AAGxG,QAAA,KAAK,EAAE;AAAC4B,UAAAA,SAAS,EAAE,KAAG,IAAf;AAAoBD,UAAAA,UAAU,EAAE,MAAM,IAAtC;AAA2CS,UAAAA,MAAM,EAAE,KAAI,IAAvD;AAA4DC,UAAAA,KAAK,EAAE,MAAM;AAAzE,SAHiG;AAIxG,QAAA,OAAO,EAAE,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAJ+F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAhF,MA/CZ,EAuDR,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,+BAAV;AAA2C,QAAA,KAAK,EAAE;AAACd,UAAAA,cAAc,EAAE,MAAjB;AAAyBC,UAAAA,KAAK,EAAE;AAAhC,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AACJ,QAAA,OAAO,EAAC,WADJ;AAEJ,QAAA,KAAK,EAAC,WAFF;AAGJ,QAAA,KAAK,EAAE;AAACE,UAAAA,SAAS,EAAE,KAAG,IAAf;AAAoBD,UAAAA,UAAU,EAAE,KAAK,IAArC;AAA0CS,UAAAA,MAAM,EAAE,KAAI,IAAtD;AAA2DC,UAAAA,KAAK,EAAE,MAAM;AAAxE,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,CAvDQ,CAFJ,EAkER;AAAK,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAG;AAAV,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWC,eAAX,GAA6B,EAA7B,GAAkC;AAAE6B,UAAAA,OAAO,EAAE;AAAX,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKC,kBAAL,CAAwB,KAAK/B,KAAL,CAAWK,QAAnC,EAA4C,KAAKL,KAAL,CAAWO,MAAvD,CADD,CADA,CAlEQ,CADJ;AA4EH;;;;EAjJyCnC,KAAK,CAAC4D,S;;SAA/B/C,gB","sourcesContent":["import React from 'react';\r\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from 'material-ui-pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {Button,Fab,GridList,Grid} from '@material-ui/core';\r\nimport { isThisSecond } from 'date-fns/esm';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Link } from 'react-router-dom';\r\nimport { getAllScans } from './reports.repo';\r\n\r\n\r\nexport default class ReportsContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state ={\r\n          rowsPerPages: 5,\r\n          data: {},\r\n          formdata: {},\r\n          dateFrom: new Date(),\r\n          dateTo: new Date(),\r\n          showMyComponent: undefined,\r\n          clickedDate: new Date(),\r\n          show: false,\r\n          showTotal:true\r\n        }\r\n        \r\n      }\r\n     getAllScans = () => {\r\n        \r\n          getAllScans().then(response => {\r\n            this.setState({\r\n              show:true,\r\n              showTotal:false,\r\n            },\r\n            );\r\n            console.log(response);\r\n          }).catch(error => {\r\n            console.log(error);\r\n          });\r\n     }\r\n      handleChangeDateField = name => event => {\r\n        this.setState({\r\n            [name]: event\r\n        });\r\n    }\r\n    changeVisibility = state => {\r\n        this.setState({\r\n            showMyComponent: true\r\n        })\r\n    }\r\n    changeShowTotal()\r\n    {\r\n        this.setState({\r\n            showTotal:true,\r\n            show:false\r\n        })\r\n    }\r\n     formatDate(n) {\r\n        return (n < 10) ? (\"0\" + n) : n;\r\n    }\r\n    formatDatesButtons(dateFrom,dateTo){\r\n        var dateMoving;\r\n        dateMoving=new Date(dateFrom);\r\n        let fabs = []\r\n        while(dateMoving<=dateTo)\r\n          {\r\n              fabs.push(\r\n                <Link to={'/app/reports/daily/'+dateMoving.toISOString()} style={{textDecoration: 'none', color: 'white'}}>\r\n                <Fab color=\"secondary\" aria-label=\"add\" style={{marginLeft: 5 +\"px\",marginTop: 5+\"px\"}}\r\n                onClick=\"\"\r\n                >\r\n                    {this.formatDate(dateMoving.getDate()) +\".\" + this.formatDate(dateMoving.getMonth()+1)}\r\n                </Fab> \r\n                </Link>\r\n              )\r\n              dateMoving.setUTCDate(dateMoving.getUTCDate() + 1);\r\n          }\r\n          return fabs;  \r\n    }\r\n    render(){\r\n        return (\r\n            <form style={{marginTop:50+\"px\",marginLeft: '30px'}}>\r\n                <span style={{color:\"gray\"}}><b>Generate report for all registry books</b></span>\r\n                <div style={{marginBottom: 20 + \"px\"}}>\r\n             <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                   <DatePicker\r\n                                       id=\"standard-uncontrolled\"\r\n                                       value={this.state.dateFrom ? this.state.dateFrom : ''}\r\n                                       onChange={this.handleChangeDateField('dateFrom')}\r\n                                       label=\"Date From\"\r\n                                       keyboard\r\n                                       format=\"dd-MM-yyyy\"\r\n                                       mask={value =>\r\n                                           value ? [/\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/] : []\r\n                                       }\r\n                                       margin=\"normal\"\r\n                                       required\r\n                                   />\r\n                                   <DatePicker\r\n                                       id=\"standard-uncontrolled\"\r\n                                       value={this.state.dateTo ? this.state.dateTo : ''}\r\n                                       onChange={this.handleChangeDateField('dateTo')}\r\n                                       label=\"Date To\"\r\n                                       keyboard\r\n                                       style={{marginLeft:20+\"px\"}}\r\n                                       format=\"dd-MM-yyyy\"\r\n                                       mask={value =>\r\n                                           value ? [/\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/] : []\r\n                                       }\r\n                                       margin=\"normal\"\r\n                                       required\r\n                                   />\r\n                               </MuiPickersUtilsProvider>\r\n                               \r\n                               <Button\r\n    variant=\"contained\" \r\n    color=\"secondary\"\r\n    style={{marginTop: 10+\"px\",marginLeft: 30 + \"px\",height: 55 +\"px\",width: 100 + \"px\"}}\r\n    onClick={this.changeVisibility}\r\n    >\r\n        Search</Button>\r\n\r\n        {!this.state.show && this.state.showTotal &&<Button\r\n    variant=\"contained\" \r\n    color=\"secondary\"\r\n    style={{marginTop: 10+\"px\",marginLeft: 250 + \"px\",height: 55 +\"px\",width: 100 + \"px\"}}\r\n    onClick={this.getAllScans}\r\n    >\r\n        Total scans</Button> }\r\n\r\n        {this.state.show && <Link to={'/reports/ALL_BOOKS_TOTAL_SCANS-REPORT.xls'} target=\"_blank\" download><Button\r\n    variant=\"contained\" \r\n    color=\"secondary\"\r\n    style={{marginTop: 10+\"px\",marginLeft: 250 + \"px\",height: 55 +\"px\",width: 100 + \"px\"}}\r\n    onClick={this.changeShowTotal.bind(this)}\r\n    >\r\n        Download</Button> </Link>}\r\n\r\n        <Link to={'/app/reports/generate/monthly'} style={{textDecoration: 'none', color: 'white'}}>    \r\n        <Button\r\n    variant=\"contained\" \r\n    color=\"secondary\"\r\n    style={{marginTop: 10+\"px\",marginLeft: 15 + \"px\",height: 55 +\"px\",width: 100 + \"px\"}}\r\n    >\r\n       Monthly Report</Button>\r\n       </Link>\r\n    </div>\r\n    <div style={{width:55+\"%\"}}>\r\n    <div style={this.state.showMyComponent ? {} : { display: 'none' }}>\r\n    {this.formatDatesButtons(this.state.dateFrom,this.state.dateTo)}\r\n    </div>\r\n    </div>\r\n\r\n            \r\n            </form>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}